local ElixirLib = {}

function ElixirLib:MakeWindow(info)
    local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
    ScreenGui.Name = "ElixirUI"

    local Main = Instance.new("Frame", ScreenGui)
    Main.Size = UDim2.new(0, 600, 0, 350)
    Main.Position = UDim2.new(0.5, -300, 0.5, -175)
    Main.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
    Main.ClipsDescendants = true
    Main.Active = true
    Main.Draggable = true

    local TabList = Instance.new("ScrollingFrame", Main)
    TabList.Size = UDim2.new(0, 150, 1, 0)
    TabList.CanvasSize = UDim2.new()
    TabList.ScrollBarThickness = 4
    TabList.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
    TabList.AutomaticCanvasSize = Enum.AutomaticSize.Y
    TabList.Name = "TabList"

    local UIListLayout = Instance.new("UIListLayout", TabList)
    UIListLayout.Padding = UDim.new(0, 5)
    UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder

    local RightPanel = Instance.new("ScrollingFrame", Main)
    RightPanel.Size = UDim2.new(1, -160, 1, -10)
    RightPanel.Position = UDim2.new(0, 160, 0, 5)
    RightPanel.CanvasSize = UDim2.new()
    RightPanel.ScrollBarThickness = 6
    RightPanel.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
    RightPanel.AutomaticCanvasSize = Enum.AutomaticSize.Y
    RightPanel.Name = "RightPanel"

    local TabHandler = {}

    function TabHandler:MakeTab(tabInfo)
        local TabButton = Instance.new("TextButton", TabList)
        TabButton.Size = UDim2.new(1, -10, 0, 30)
        TabButton.Text = tabInfo.Name or "Tab"
        TabButton.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
        TabButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        TabButton.Font = Enum.Font.GothamBold
        TabButton.TextSize = 12

        local TabContent = Instance.new("ScrollingFrame")
        TabContent.Size = UDim2.new(1, 0, 1, 0)
        TabContent.BackgroundTransparency = 1
        TabContent.AutomaticCanvasSize = Enum.AutomaticSize.Y
        TabContent.Visible = false
        TabContent.Parent = RightPanel

        local UIList = Instance.new("UIListLayout", TabContent)
        UIList.Padding = UDim.new(0, 6)
        UIList.SortOrder = Enum.SortOrder.LayoutOrder

        TabButton.MouseButton1Click:Connect(function()
            for _, tab in pairs(RightPanel:GetChildren()) do
                if tab:IsA("ScrollingFrame") then tab.Visible = false end
            end
            TabContent.Visible = true
        end)

        local SectionHandler = {}

        function SectionHandler:AddToggle(data)
            local Toggle = Instance.new("TextButton", TabContent)
            Toggle.Size = UDim2.new(1, -10, 0, 30)
            Toggle.BackgroundColor3 = Color3.fromRGB(40, 40, 45)
            Toggle.Text = data.Name
            Toggle.TextColor3 = Color3.fromRGB(255, 255, 255)
            Toggle.Font = Enum.Font.GothamBold
            Toggle.TextSize = 12
            local state = false

            Toggle.MouseButton1Click:Connect(function()
                state = not state
                data.Callback(state)
                Toggle.BackgroundColor3 = state and Color3.fromRGB(80, 201, 206) or Color3.fromRGB(40, 40, 45)
            end)
        end

        return SectionHandler
    end

    return TabHandler
end

return ElixirLib
